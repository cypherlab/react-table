<html>
  <head>
    <title>react-table</title>
    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
    <link href="https://unpkg.com/bootstrap@4.3.1/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

    <div class="p-5 m-auto col-6 text-center">
      <div id="root"></div>
    </div>

    <script async type="module">

      const $import = async (paths=[], debug=false) => {
        let first

        for (const p of paths) {
          try { 
            first = (await import(p)).default 
            debug && console.log(`$import via "${p}"`)
            break
          }catch(e){}
        }

        !first && debug && console.log(`$import failed"`)
        
        return first
      }

      (async () => {

        const MyComponent = await $import([
            '/dist/index.js' // local import
          , 'https://unpkg.com/@cypherlab/react-table' // global import (for raw.githack.com)
        ])

        // for the data demonstration, we fetch a "words collection" from a github file
        const res = await fetch('https://raw.githubusercontent.com/bitcoin/bips/master/bip-0039/english.txt')
        const words = (await res.text()).split('\n')

        const props = {
          // data is an array containing actual data represented as pure objects
          // so we transform the fetched words collection (raw strings) into an objects collection
          // ex: ['foo', 'bar'] => [{ key: 'foo' }, { key: 'bar' }] 
            data: words.map(word => ({ word })) 

          // Define the columns properties
          , cols: [
                // 1st col will reflect the data object at key "word"
                { key: 'word', class: 'text-center w-25' }
                // 2st col name is called "word lentgh", and is transforming the final value
              , { key: 'word', name: 'word lentgh', transform: (v)=>`${v.length} letters` }
            ]

          // We instruct the component on which data keys should the filter operate
          // you can use multiple keys, comma separated: ex: 'key1,key2,foo.bar.key3,...'
          , searchKeys: 'word'

          // Give your table a name
          , title: 'My Table'

          // Enable debuging component, default to false
          , debug: true


          // Hide the table header, default to false
          , hideHead: false

          // if true, does not show any data when zero/no filter is applied
          , hideNoQuery: false
        }
        
        ReactDOM.render(MyComponent(props), document.getElementById('root'))

      })()

    </script>

  </body>
</html>